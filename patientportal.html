<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <link href="https://fonts.googleapis.com/css?family=Sen:400,700&display=swap" rel="stylesheet">
    <title>Covid-19 Challenge</title>
</head>

<body>
    <div class="information-box">
        <h1 class="information-header">My actions</h1>

        <ul class="information-bullets">
            <li><a id="editLink" class="information-link">Edit personal information</a></li>
            <li><a id="apptLink" class="information-link">Check for appointments</a></li>
            <li><a id="resLink" class="information-link">View test results</a>
            </li>
        </ul>

        <h1 class="information-header">Need help?</h1>
        <p class="information-paragraph">You can use this page to update your personal information (including updating
            your symptoms and information you may have filled out incorrectly).</p>

        <p class="information-paragraph">Click on the links above to edit your personal information, see if an
            appointment has been scheduled for you, and view test results (if they have been processed).</p>

    </div>

    <div class="action-box">
        <div id="personal-information-box">
            <h1 class="portal-header">Edit personal information</h1>
            <table id="registration-table">
                <tr>
                    <td class='patient-table-left'>First name</td>
                    <td>
                        <input id="firstName" type="text" class="patient-input" placeholder="John"></input>
                    </td>
                </tr>
                <tr>
                    <td class='patient-table-left'>Last name</td>
                    <td>
                        <input id="lastName" type="text" class="patient-input" placeholder="Doe"> </input>
                    </td>
                </tr>
                <tr>
                    <td class='patient-table-left'>Email address</td>
                    <td>
                        <input id="emailAddress" class="patient-input" type="email"
                            placeholder="person@example.com"></input>
                    </td>
                </tr>
                <tr>
                    <td class='patient-table-left'>Date of birth</td>
                    <td>
                        <input id="dateOfBirth" class="patient-input" type="date" placeholder="03/31/1993"
                            pattern="[0-9]{2}/[0-9]{2}/[0-9]{4}" onchange="checkAge(this.value)" required></input>
                    </td>
                </tr>
                <tr>
                    <td class='patient-table-left'>Phone number</td>
                    <td>
                        <input id="phoneNumber" class="patient-input" type="tel" placeholder="(012) 345-6789"
                            pattern="([0-9]{3}) [0-9]{3}-[0-9]{4}" required></input>
                    </td>
                </tr>

                <tr>
                    <td class='patient-table-left'>Home address</td>
                    <td>
                        <input id="homeAddress1" class="patient-input-address" type="text"
                            placeholder="1 Neverending Road"></input>
                        <input id="homeAddress2" class="patient-input-address" type="text"
                            placeholder="Lancaster, PA 17601"></input>
                    </td>
                </tr>

                <tr>
                    <td class='patient-table-left'>Sex</td>
                    <td>
                        <label>
                            <input class="patient-input" type="radio" name="sex" value="Male"></input> Male
                        </label>
                        <label>
                            <input class="patient-input" type="radio" name="sex" value="Female"></input> Female
                        </label>
                        <label>
                            <input class="patient-input" type="radio" name="sex" value="Other"></input> Other
                        </label>

                    </td>
                </tr>

                <tr class="parent-info">
                    <td class='patient-table-left'>Primary guardian's first name</td>
                    <td>
                        <input id="guardianFirstName" class="patient-input" placeholder="John"></input>
                    </td>
                </tr>
                <tr class="parent-info">
                    <td class='patient-table-left'>Primary guardian's last name</td>
                    <td>
                        <input id="guardianLastName" class="patient-input" placeholder="Doe"> </input>
                    </td>
                </tr>
                <tr class="parent-info">
                    <td class='patient-table-left'>Primary guardian's email address</td>
                    <td>
                        <input id="guardianEmailAddress" class="patient-input" type="email"
                            placeholder="person@example.com"></input>
                    </td>
                </tr>
                <tr class="parent-info">
                    <td class='patient-table-left'>Primary guardian's phone number</td>
                    <td>
                        <input id="guardianPhoneNumber" class="patient-input" type="tel" placeholder="(012) 345-6789"
                            pattern="([0-9]{3}) [0-9]{3}-[0-9]{4}" required></input>
                    </td>
                </tr>

                <tr class="parent-info">
                    <td class='patient-table-left'>Primary guardian's home address</td>
                    <td>
                        <input id="guardianAddressLine1" class="patient-input-address" type="text"
                            placeholder="1 Neverending Road"></input>
                        <input id="guardianAddressLine2" class="patient-input-address" type="text"
                            placeholder="Lancaster, PA 17601"></input>
                    </td>
                </tr>

                <tr>
                    <td id="ethnicity" class='patient-table-left'>Ethnicity</td>
                    <td>
                        <label>
                            <input class="patient-input" type="radio" name="ethnicity" value="Hispanic/Latino"></input>
                            Hispanic/Latino
                        </label>
                        <label>
                            <input class="patient-input" type="radio" name="ethnicity"
                                value="Non Hispanic/Latino"></input>
                            Non Hispanic/Latino
                        </label>
                        <label>
                            <input class="patient-input" type="radio" name="ethnicity" value="Not specified"></input>
                            Not
                            specified
                        </label>

                    </td>
                </tr>

                <tr>
                    <td class='patient-table-left'>Race (check all that apply)</td>
                    <td>
                        <label>
                            <input class="patient-input" type="checkbox" name="race" value="Asian"></input> Asian
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" name="race" value="Black"></input> Black
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" name="race" value="White"></input> White
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" name="race"
                                value="American Indian/Alaska Native"></input>
                            American Indian/Alaska Native
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" name="race"
                                value="Native Hawaiian/Other Pacific Islander"></input> Native Hawaiian/Other Pacific
                            Islander
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" name="race" value="Unknown"></input> Unknown
                        </label>
                        Other: <input class="patient-input" type="text" placeholder="..."></input>
                    </td>
                </tr>

                <tr>
                    <td class='patient-table-left'>Are you a healthcare worker in the United States?</td>
                    <td>
                        <label>
                            <input class="patient-input" type="radio" name="worker" value="Yes"></input> Yes
                        </label>
                        <label>
                            <input class="patient-input" type="radio" name="worker" value="No"></input> No
                        </label>
                    </td>
                </tr>

                <tr>
                    <td class='patient-table-left'>Do you have a history of being in a healthcare facility (as a
                        patient,
                        worker or visitor) in China?</td>
                    <td>
                        <label>
                            <input class="patient-input" type="radio" name="china" value="Yes"></input> Yes
                        </label>
                        <label>
                            <input class="patient-input" type="radio" name="china" value="No"></input> No
                        </label>
                    </td>
                </tr>

                <tr>
                    <td class='patient-table-left'>If symptomatic, symptom onset date</td>
                    <td><input id="onsetDate" class="patient-input" type="date" placeholder="03/20/2020"
                            pattern="[0-9]{2}/[0-9]{2}/[0-9]{4}" required></input></td>
                </tr>

                <tr>
                    <td class='patient-table-left'>If symptomatic, date of symptom resolution</td>
                    <td><input id="resolutionDate" class="patient-input" type="date" placeholder="03/20/2020"
                            pattern="[0-9]{2}/[0-9]{2}/[0-9]{4}" required></input></td>
                </tr>

                <tr>
                    <td class='patient-table-left'>Symptoms</td>
                    <td>
                        <label>
                            <input class="patient-input" type="checkbox" name="symptoms" value="Fever > 100.4F"></input>
                            Fever > 100.4F
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" name="symptoms"
                                value="Subjective fever (felt feverish)"></input> Subjective fever (felt feverish)
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" name="symptoms" value="Chills"></input> Chills
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" name="symptoms"
                                value="Muscle aches (myalgia)"></input> Muscle
                            aches (myalgia)
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" name="symptoms"
                                value="Runny nose (rhinorrhea)"></input> Runny nose
                            (rhinorrhea)
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" name="symptoms" value="Sore throat"></input>
                            Sore
                            throat
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" name="symptoms"
                                value="Cough (new or worsening chronic cough)"></input> Cough (new or worsening chronic
                            cough)
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" name="symptoms"
                                value="Shortness of breath (dyspnea)"></input> Shortness of breath (dyspnea)
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" name="symptoms"
                                value="Nausea or vomiting"></input>
                            Nausea or
                            vomiting
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" name="symptoms" value="Headache"></input>
                            Headache
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" name="symptoms" value="Abdominal pain"></input>
                            Abdominal pain
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" name="symptoms"
                                value="Diarrhea (≥3 loose/looser than normal stools/24hr period)"></input> Diarrhea (≥3
                            loose/looser than
                            normal stools/24hr period)
                        </label>
                        Other: <input class="patient-input" type="text" placeholder="..."></input>
                    </td>
                </tr>

                <tr>
                    <td class='patient-table-left'>Pre-existing conditions</td>
                    <td>
                        <label>
                            <input class="patient-input" type="checkbox"
                                value="Chronic Lung Disease (asthma/emphysema/COPD)"></input> Chronic Lung Disease
                            (asthma/emphysema/COPD)
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" value="Diabetes Mellitus"></input> Diabetes
                            Mellitus
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" value="Cardiovascular disease"></input>
                            Cardiovascular disease
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" value="Chronic Renal diseases"></input> Chronic
                            Renal diseases
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" value="Chronic Liver disease"></input> Chronic
                            Liver disease
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" value="Immunocompromised Condition"></input>
                            Immunocompromised Condition
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox"
                                value="Neurologic, neurodevelopmental, and/or intellectual disability"></input>
                            Neurologic, neurodevelopmental, and/or intellectual disability
                            (Please specify: <input class="patient-input" type="text" placeholder="..."></input>)
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" value="Other chronic diseases"></input>
                            Other chronic diseases (Please specify: <input class="patient-input" type="text"
                                placeholder="..."></input>)
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" value="If female, currently pregnant"></input>
                            If
                            female, currently pregnant
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" value="Current smoker"></input> Current smoker
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" value="Former smoker"></input> Former smoker
                        </label>
                        Other: <input class="patient-input" type="text" placeholder="..."></input>
                    </td>
                </tr>

                <tr>
                    <td class='patient-table-left'>In the 14 days prior to illness onset, did you have any of the
                        following
                        exposures (check all that apply)?</td>
                    <td>
                        <label>
                            <input class="patient-input" type="checkbox" name="exposures"
                                value="Travel to Wuhan"></input>
                            Travel to Wuhan
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" name="exposures"
                                value="Travel to Hubei"></input>
                            Travel to Hubei
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" name="exposures"
                                value="Travel to mainland China"></input> Travel to
                            mainland China
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" name="exposures"
                                value="Community contact with another lab-confirmed COVID-19 case-patient"></input>
                            Community contact with another
                            lab-confirmed COVID-19 case-patient
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" name="exposures"
                                value="Exposure to an infected animal"></input>
                            Exposure to an infected animal
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" name="exposures"
                                value="Exposure to a cluster of patients with severe acute lower respiratory distress of unknown etiology"></input>
                            Exposure to a
                            cluster of patients
                            with severe acute lower respiratory distress of unknown etiology
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" name="exposures"
                                value="Any healthcare contact with another lab-confirmed COVID-19 case-patient (Patient)"></input>
                            Any healthcare contact with another lab-confirmed COVID-19 case-patient (Patient)
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" name="exposures"
                                value="Any healthcare contact with another lab-confirmed COVID-19 case-patient (Visitor)"></input>
                            Any healthcare contact with another lab-confirmed COVID-19 case-patient (Visitor)
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" name="exposures"
                                value="Any healthcare contact with another lab-confirmed COVID-19 case-patient (HCW)"></input>
                            Any healthcare contact with another lab-confirmed COVID-19 case-patient (HCW)
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" name="exposures"
                                value="Household contact with another lab-confirmed COVID-19 case patient"></input>
                            Household contact with another lab-confirmed COVID-19 case patient
                        </label>
                        <label>
                            <input class="patient-input" type="checkbox" name="exposures" value="Unknown"></input>
                            Unknown
                        </label>
                        Other: <input class="patient-input" type="text" placeholder="..."></input>
                    </td>
                </tr>

                <tr>
                    <td class='patient-table-left'>Please list any public places (and the dates you were there) that you
                        have been in over the past 14 days.</td>
                    <td>
                        <input class="patient-input" type="date" placeholder="03/20/2020"
                            pattern="[0-9]{2}/[0-9]{2}/[0-9]{4}" required></input>
                        <input class="patient-input-address" type="text" placeholder="Location one"></input>
                        <input class="patient-input" type="date" placeholder="03/20/2020"
                            pattern="[0-9]{2}/[0-9]{2}/[0-9]{4}" required></input>
                        <input class="patient-input-address" type="text" placeholder="Location two"></input>
                        <input class="patient-input" type="date" placeholder="03/20/2020"
                            pattern="[0-9]{2}/[0-9]{2}/[0-9]{4}" required></input>
                        <input class="patient-input-address" type="text" placeholder="Location three"></input>
                        <input class="patient-input" type="date" placeholder="03/20/2020"
                            pattern="[0-9]{2}/[0-9]{2}/[0-9]{4}" required></input>
                        <input class="patient-input-address" type="text" placeholder="Location four"></input>
                        <input class="patient-input" type="date" placeholder="03/20/2020"
                            pattern="[0-9]{2}/[0-9]{2}/[0-9]{4}" required></input>
                        <input class="patient-input-address" type="text" placeholder="Location five"></input>
                        <input class="patient-input" type="date" placeholder="03/20/2020"
                            pattern="[0-9]{2}/[0-9]{2}/[0-9]{4}" required></input>
                        <input class="patient-input-address" type="text" placeholder="Location six"></input>
                        <input class="patient-input" type="date" placeholder="03/20/2020"
                            pattern="[0-9]{2}/[0-9]{2}/[0-9]{4}" required></input>
                        <input class="patient-input-address" type="text" placeholder="Location seven"></input>
                        <input class="patient-input" type="date" placeholder="03/20/2020"
                            pattern="[0-9]{2}/[0-9]{2}/[0-9]{4}" required></input>
                        <input class="patient-input-address" type="text" placeholder="Location eight"></input>
                        <input class="patient-input" type="date" placeholder="03/20/2020"
                            pattern="[0-9]{2}/[0-9]{2}/[0-9]{4}" required></input>
                        <input class="patient-input-address" type="text" placeholder="Location nine"></input>
                        <input class="patient-input" type="date" placeholder="03/20/2020"
                            pattern="[0-9]{2}/[0-9]{2}/[0-9]{4}" required></input>
                        <input class="patient-input-address" type="text" placeholder="Location ten"></input>
                    </td>
                </tr>
            </table>

            <center>
                <button class="patient-button" onclick="updateInfo()">Update information</button><br>
            </center>
        </div>
        <div id="appointments-box">
            <h1 class="portal-header">Appointments</h1>
            <table id="appointments-table">
                <tr>
                    <th>Date</th>
                    <th>Time</th>
                    <th>Testing Center</th>
                </tr>
                <tr>
                    <td>4/1/2020</td>
                    <td>4:30 PM</td>
                    <td>New Rochelle</td>
                </tr>
                <tr>
                    <td>3/20/2020</td>
                    <td>11:00 AM</td>
                    <td>New Rochelle</td>
                </tr>
            </table>
        </div>
        <div id="results-box">
            <h1 class="portal-header">Test results</h1>
            <table id="results-table">
                <tr>
                    <th>Date</th>
                    <th>Testing Center</th>
                    <th>Result</th>
                </tr>
                <tr>
                    <td>4/1/2020</td>
                    <td>New Rochelle</td>
                    <td><b>Positive<b></td>
                </tr>
            </table>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/7.13.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.13.1/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.13.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.13.1/firebase-firestore.js"></script>

    <script>
        var firebaseConfig = {
            apiKey: "AIzaSyDD7IM5QAOF5y8PCHcmYg7d5ALAOAgcF2g",
            authDomain: "covid-19-challenge-63dc9.firebaseapp.com",
            databaseURL: "https://covid-19-challenge-63dc9.firebaseio.com",
            projectId: "covid-19-challenge-63dc9",
            storageBucket: "covid-19-challenge-63dc9.appspot.com",
            messagingSenderId: "16503968884",
            appId: "1:16503968884:web:0913620e1a13ecddecad21",
            measurementId: "G-X6ZB7JV3ZG"
        };
        firebase.initializeApp(firebaseConfig);
        firebase.analytics();

        let myEditLink = document.getElementById("editLink");

        myEditLink.onclick = function () {
            editInfo();
            return false;
        };

        let myApptLink = document.getElementById("apptLink");

        myApptLink.onclick = function () {
            checkAppt();
            return false;
        };

        let myResLink = document.getElementById("resLink");

        myResLink.onclick = function () {
            viewResults();
            return false;
        };

        function editInfo() {
            // Need database to autoload existing values

            $('#personal-information-box').css('display', 'block');
            $('#appointments-box').css('display', 'none');
            $('#results-box').css('display', 'none');
        }

        function checkAppt() {
            $('#personal-information-box').css('display', 'none');
            $('#appointments-box').css('display', 'block');
            $('#results-box').css('display', 'none');
        }

        function viewResults() {
            $('#personal-information-box').css('display', 'none');
            $('#appointments-box').css('display', 'none');
            $('#results-box').css('display', 'block');
        }

        function updateInfo() {
            // Update personal information
        }

        function checkAge(dateOfBirth) {
            let age = new Date(dateOfBirth);
            let diff_ms = Date.now() - age.getTime();
            let age_dt = new Date(diff_ms);

            if (Math.abs(age_dt.getUTCFullYear() - 1970) < 18) {
                $('.parent-info').css('display', 'table-row');
            }
        }
    </script>
</body>

</html>